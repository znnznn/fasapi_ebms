from datetime import datetime

from sqlalchemy import (
    Column, Integer, String, TIMESTAMP, MetaData, Float, Boolean, BINARY, DECIMAL, ForeignKey, Date, NVARCHAR
)
from sqlalchemy.orm import relationship, Mapped, mapped_column, as_declarative, declared_attr

from common.models import EBMSBase as Base


class Arinv(Base):
    arinv_guid = Column('ARINV_GUID', NVARCHAR, primary_key=True)
    recno5 = Column("RECNO5", Integer)
    id = Column("ID", String)
    name = Column("NAME", String)
    address1 = Column("ADDRESS1", String)
    address2 = Column("ADDRESS2", String)
    city = Column("CITY", String)
    state = Column("STATE", String)
    zip = Column("ZIP", String)
    invoice = Column("INVOICE", String)
    descr = Column("DESCR", String)
    inv_date = Column("INV_DATE", TIMESTAMP)
    due_date = Column("DUE_DATE", TIMESTAMP)
    dis_date = Column("DIS_DATE", TIMESTAMP)
    iddiscount = Column("IDDISCOUNT", String)
    idcharge = Column("IDCHARGE", String)
    discoun = Column("DISCOUN", String)
    charge = Column("CHARGE", String)
    terms = Column("TERMS", String)
    in_level = Column("IN_LEVEL", String)
    po_no = Column("PO_NO", String)
    salesman = Column("SALESMAN", String)
    ship_via = Column("SHIP_VIA", String)
    e_date = Column("E_DATE", TIMESTAMP)
    discount = Column("DISCOUNT", DECIMAL)
    overdue = Column("OVERDUE", DECIMAL)
    freight = Column("FREIGHT", Integer)
    tax = Column("TAX", DECIMAL)
    subtotal = Column("SUBTOTAL", DECIMAL)
    total = Column("TOTAL", DECIMAL)
    status = Column("STATUS", String)
    total_paid = Column("TOTAL_PAID", DECIMAL)
    total_w = Column("TOTAL_W", DECIMAL)
    balance = Column("BALANCE", DECIMAL)
    check_no = Column("CHECK_NO", String)
    check_date = Column("CHECK_DATE", TIMESTAMP)
    c_id = Column("C_ID", String)
    c_name = Column("C_NAME", String)
    c_address1 = Column("C_ADDRESS1", String)
    c_address2 = Column("C_ADDRESS2", String)
    c_city = Column("C_CITY", String)
    c_state = Column("C_STATE", String)
    c_zip = Column("C_ZIP", String)
    email = Column("EMAIL", String)
    billing_co = Column("BILLING_CO", String)
    ship_date = Column("SHIP_DATE", TIMESTAMP)
    frght_amt = Column("FRGHT_AMT", String)
    frght_type = Column("FRGHT_TYPE", String)
    user_name = Column("USER_NAME", String)
    was_proc = Column("WAS_PROC", Boolean)
    memo = Column("MEMO", String)
    signature = Column("SIGNATURE", BINARY)
    country = Column("COUNTRY", String)
    c_country = Column("C_COUNTRY", String)
    close_date = Column("CLOSE_DATE", TIMESTAMP)
    so_tax = Column("SO_TAX", DECIMAL)
    man_tax = Column("MAN_TAX", Boolean)
    orig_inv = Column("ORIG_INV", String)
    orig_aid = Column("ORIG_AID", String)
    print_time = Column("PRINT_TIME", String)
    c_fr_order = Column("C_FR_ORDER", Boolean)
    crea_date = Column("CREA_DATE", TIMESTAMP)
    crea_time = Column("CREA_TIME", String)
    proc_date = Column("PROC_DATE", TIMESTAMP)
    proc_time = Column("PROC_TIME", String)
    ar_trade = Column("AR_TRADE", String)
    freight_gl = Column("FREIGHT_GL", String)
    finance = Column("FINANCE", String)
    cust_disc = Column("CUST_DISC", String)
    down_pay = Column("DOWN_PAY", String)
    def_dept = Column("DEF_DEPT", String)
    warehouse = Column("WAREHOUSE", String)
    autoid = Column("AUTOID", String)
    csend_date = Column("CSEND_DATE", TIMESTAMP)
    csend_time = Column("CSEND_TIME", String)
    csend_mes = Column("CSEND_MES", String)
    c_rate = Column("C_RATE", String)
    curr_id = Column("CURR_ID", String)
    copied = Column("COPIED", Boolean)
    prevord = Column("PREVORD", String)
    trim = Column("TRIM", Boolean)
    metal = Column("METAL", Boolean)
    div_aid = Column("DIV_AID", String)
    authorized = Column("AUTHORIZED", DECIMAL)
    web_sale = Column("WEB_SALE", Boolean)
    phone = Column("PHONE", String)
    web_aid = Column("WEB_AID", String)
    cf_email = Column("CF_EMAIL", String)
    cf_sent = Column("CF_SENT", Boolean)
    rollexdt = Column("ROLLEXDT", TIMESTAMP)
    rollprocdt = Column("ROLLPROCDT", TIMESTAMP)
    c_email = Column("C_EMAIL", String)
    c_phone = Column("C_PHONE", String)
    last_print = Column("LAST_PRINT", String)
    handling = Column("HANDLING", DECIMAL)
    freightexp = Column("FREIGHTEXP", String)
    ly_pts_got = Column("LY_PTS_GOT", DECIMAL)
    to_b_sent = Column("TO_B_SENT", Boolean)
    internalnt = Column("INTERNALNT", String)
    out_city = Column("OUT_CITY", Boolean)
    c_tax = Column("C_TAX", DECIMAL)
    c_manual = Column("C_MANUAL", Boolean)
    arpw_id = Column("ARPW_ID", String)
    comis_paid = Column("COMIS_PAID", Boolean)
    job_id = Column("JOB_ID", String)
    num_bill = Column("NUM_BILL", String)
    use_jobret = Column("USE_JOBRET", Boolean)
    from_tandm = Column("FROM_TANDM", Boolean)
    subilnoret = Column("SUBILNORET", DECIMAL)
    arqtaidsrc = Column("ARQTAIDSRC", String)
    usetaxed = Column("USETAXED", Boolean)
    cntct_aid = Column("CNTCT_AID", String)
    ccntct_aid = Column("CCNTCT_AID", String)
    man_usetax = Column("MAN_USETAX", Boolean)
    externalid = Column("EXTERNALID", String)
    p_rounddif = Column("P_ROUNDDIF", DECIMAL)
    details = relationship('Arinvdet', back_populates="order", innerjoin=True, primaryjoin='Arinv.autoid == Arinvdet.doc_aid')


class Arinvdet(Base):
    arinvdet_guid = Column('ARINVDET_GUID', String, primary_key=True)
    recno5 = Column('RECNO5', Integer)
    invoice = Column('INVOICE', String)
    id = Column('ID', String)
    doc_type = Column('DOC_TYPE', String)
    doc_aid = Column('DOC_AID', String, ForeignKey(Arinv.autoid))
    inv_date = Column('INV_DATE', TIMESTAMP)
    quan = Column('QUAN', DECIMAL)
    ship = Column('SHIP', DECIMAL)
    m_quan = Column('M_QUAN', DECIMAL)
    orig_quan = Column('ORIG_QUAN', DECIMAL)
    inven = Column('INVEN', String, ForeignKey('INVENTRY.ID'))
    c_type = Column('C_TYPE', DECIMAL)
    unit_meas = Column('UNIT_MEAS', String)
    descr = Column('DESCR', String)
    unit = Column('UNIT', DECIMAL)
    price = Column('PRICE', DECIMAL)
    so_amount = Column('SO_AMOUNT', DECIMAL)
    discount = Column('DISCOUNT', DECIMAL)
    sodiscount = Column('SODISCOUNT', DECIMAL)
    timestamp = Column('TIMESTAMP', String)
    par_time = Column('PAR_TIME', String)
    gpar_time = Column('GPAR_TIME', String)
    status = Column('STATUS', DECIMAL)
    u_cost = Column('U_COST', DECIMAL)
    costs = Column('COSTS', DECIMAL)
    tax_group = Column('TAX_GROUP', String)
    exm_overid = Column('EXM_OVERID', String)
    ship_date = Column('SHIP_DATE', TIMESTAMP)
    weight = Column('WEIGHT', DECIMAL)
    print = Column('PRINT', Boolean),
    ap_partime = Column('AP_PARTIME', String)
    print_quan = Column('PRINT_QUAN', Boolean)
    print_uom = Column('PRINT_UOM', Boolean)
    account = Column('ACCOUNT', String)
    warehouse = Column('WAREHOUSE', String)
    autoid = Column('AUTOID', String)
    pcm_type = Column('PCM_TYPE', DECIMAL)
    pcm_perc = Column('PCM_PERC', DECIMAL)
    mto = Column('MTO', Boolean)
    mto_d_sync = Column('MTO_D_SYNC', Boolean)
    drop_ven = Column('DROP_VEN', String)
    drop_part = Column('DROP_PART', String)
    drop_aid = Column('DROP_AID', String)
    purc_meth = Column('PURC_METH', DECIMAL)
    c_price = Column('C_PRICE', DECIMAL)
    c_unit = Column('C_UNIT', DECIMAL)
    fxline = Column('FXLINE', Boolean)
    c_formula = Column('C_FORMULA', String)
    width = Column('WIDTH', String)
    widthd = Column('WIDTHD', DECIMAL)
    height = Column('HEIGHT', String)
    heightd = Column('HEIGHTD', DECIMAL)
    dem = Column('DEM', String)
    demd = Column('DEMD', DECIMAL)
    manual_p = Column('MANUAL_P', Boolean)
    manual_c = Column('MANUAL_C', Boolean)
    round = Column('ROUND', DECIMAL)
    comment = Column('COMMENT', String)
    ea_quan = Column('EA_QUAN', DECIMAL)
    r_ea_quan = Column('R_EA_QUAN', DECIMAL)
    report_n = Column('REPORT_N', String)
    random_w = Column('RANDOM_W', Boolean)
    random_h = Column('RANDOM_H', Boolean)
    item_num = Column('ITEM_NUM', String)
    feet = Column('FEET', DECIMAL)
    inchesd = Column('INCHESD', DECIMAL)
    inches = Column('INCHES', String)
    c_mfg = Column('C_MFG', DECIMAL)
    r_serial = Column('R_SERIAL', String)
    su_autoid = Column('SU_AUTOID', String)
    trade_in = Column('TRADE_IN', Boolean)
    in_level = Column('IN_LEVEL', String)
    job_id = Column('JOB_ID', String)
    jobstg_id = Column('JOBSTG_ID', String)
    aia = Column('AIA', String)
    retn_type = Column('RETN_TYPE', String)
    retn_perc = Column('RETN_PERC', DECIMAL)
    int_note = Column('INT_NOTE', String)
    tax_expl = Column('TAX_EXPL', String)
    on_site = Column('ON_SITE', DECIMAL)
    order = relationship('Arinv', back_populates='details')
    rel_inventry = relationship('Inventry', back_populates='arinvdet', primaryjoin="Inventry.id == Arinvdet.inven")


class Inprodtype(Base):
    inprodtype_guid: Mapped[str] = mapped_column('INPRODTYPE_GUID', String(36), primary_key=True)
    recno5: Mapped[int] = mapped_column('RECNO5', Integer)
    prod_type: Mapped[str] = mapped_column('PROD_TYPE', String(20))
    ar_aid: Mapped[str] = mapped_column('AR_AID', String(16))
    autoid: Mapped[str] = mapped_column('AUTOID', String(16))
    inventries = relationship(
        'Inventry', back_populates='inprodtype', innerjoin=True, primaryjoin="Inprodtype.prod_type == Inventry.prod_type"
    )


class Inventry(Base):
    inventry_guid: Mapped[str] = mapped_column('INVENTRY_GUID', String, primary_key=True)
    recno5: Mapped[int] = mapped_column('RECNO5', Integer)
    id = Column('ID', String)
    tree_id = Column('TREE_ID', String)
    upc: Mapped[str] = mapped_column('UPC', String)
    type: Mapped[str] = mapped_column('TYPE', String)
    c_type: Mapped[DECIMAL] = mapped_column('C_TYPE', DECIMAL)
    descr_1: Mapped[str] = mapped_column('DESCR_1', String)
    descr_1prn: Mapped[bool] = mapped_column('DESCR_1PRN', Boolean)
    descr_1prp: Mapped[bool] = mapped_column('DESCR_1PRP', Boolean)
    descr_2: Mapped[str] = mapped_column('DESCR_2', String)
    descr_2prn: Mapped[bool] = mapped_column('DESCR_2PRN', Boolean)
    descr_2prp: Mapped[bool] = mapped_column('DESCR_2PRP', Boolean)
    descr_3: Mapped[str] = mapped_column('DESCR_3', String)
    descr_3prn: Mapped[bool] = mapped_column('DESCR_3PRN', Boolean)
    descr_3prp: Mapped[bool] = mapped_column('DESCR_3PRP', Boolean)
    markup: Mapped[str] = mapped_column('MARKUP', String)
    markup_id: Mapped[str] = mapped_column('MARKUP_ID', String)
    base: Mapped[DECIMAL] = mapped_column('BASE', DECIMAL)
    cost: Mapped[DECIMAL] = mapped_column('COST', DECIMAL)
    tax_group: Mapped[str] = mapped_column('TAX_GROUP', String)
    weight: Mapped[DECIMAL] = mapped_column('WEIGHT', DECIMAL)
    date: Mapped[Date] = mapped_column('DATE', Date)
    quan2order: Mapped[DECIMAL] = mapped_column('QUAN2ORDER', DECIMAL)
    count: Mapped[DECIMAL] = mapped_column('COUNT', DECIMAL)
    location: Mapped[str] = mapped_column('LOCATION', String)
    min_inven: Mapped[DECIMAL] = mapped_column('MIN_INVEN', DECIMAL)
    max_inven: Mapped[DECIMAL] = mapped_column('MAX_INVEN', DECIMAL)
    order_amt: Mapped[DECIMAL] = mapped_column('ORDER_AMT', DECIMAL)
    pri_vendor: Mapped[str] = mapped_column('PRI_VENDOR', String)
    pur_o: Mapped[DECIMAL] = mapped_column('PUR_O', DECIMAL)
    pur_s: Mapped[DECIMAL] = mapped_column('PUR_S', DECIMAL)
    sales_o: Mapped[DECIMAL] = mapped_column('SALES_O', DECIMAL)
    sales_s: Mapped[DECIMAL] = mapped_column('SALES_S', DECIMAL)
    m_in_o: Mapped[DECIMAL] = mapped_column('M_IN_O', DECIMAL)
    m_in_s: Mapped[DECIMAL] = mapped_column('M_IN_S', DECIMAL)
    m_out_o: Mapped[DECIMAL] = mapped_column('M_OUT_O', DECIMAL)
    m_out_s: Mapped[DECIMAL] = mapped_column('M_OUT_S', DECIMAL)
    job_out_o: Mapped[DECIMAL] = mapped_column('JOB_OUT_O', DECIMAL)
    job_out_s: Mapped[DECIMAL] = mapped_column('JOB_OUT_S', DECIMAL)
    each_unit: Mapped[str] = mapped_column('EACH_UNIT', String)
    int_quan: Mapped[bool] = mapped_column('INT_QUAN', Boolean)
    def_unit: Mapped[str] = mapped_column('DEF_UNIT', String)
    last_chk_u: Mapped[str] = mapped_column('LAST_CHK_U', String)
    last_chk_d: Mapped[Date] = mapped_column('LAST_CHK_D', Date)
    last_chk_t: Mapped[str] = mapped_column('LAST_CHK_T', String)
    auto_cost: Mapped[bool] = mapped_column('AUTO_COST', Boolean)
    memo: Mapped[str] = mapped_column('MEMO', String)
    mfg: Mapped[str] = mapped_column('MFG', String)
    mfg_part: Mapped[str] = mapped_column('MFG_PART', String)
    web: Mapped[str] = mapped_column('WEB', String)
    est_hours: Mapped[DECIMAL] = mapped_column('EST_HOURS', DECIMAL)
    def_work: Mapped[str] = mapped_column('DEF_WORK', String)
    perc_adj: Mapped[DECIMAL] = mapped_column('PERC_ADJ', DECIMAL)
    perc_adj_c: Mapped[DECIMAL] = mapped_column('PERC_ADJ_C', DECIMAL)
    pur_memo: Mapped[str] = mapped_column('PUR_MEMO', String)
    sale_class: Mapped[str] = mapped_column('SALE_CLASS', String)
    updatecost: Mapped[bool] = mapped_column('UPDATECOST', Boolean)
    updvencost: Mapped[bool] = mapped_column('UPDVENCOST', Boolean)
    ins_acc: Mapped[DECIMAL] = mapped_column('INS_ACC', DECIMAL)
    returndays: Mapped[str] = mapped_column('RETURNDAYS', String)
    sale_acc: Mapped[str] = mapped_column('SALE_ACC', String)
    use_pl_gl: Mapped[bool] = mapped_column('USE_PL_GL', Boolean)
    pur_acc: Mapped[str] = mapped_column('PUR_ACC', String)
    adjust: Mapped[str] = mapped_column('ADJUST', String)
    asset: Mapped[str] = mapped_column('ASSET', String)
    use_itemgl: Mapped[bool] = mapped_column('USE_ITEMGL', Boolean)
    mfg_cost: Mapped[str] = mapped_column('MFG_COST', String)
    autoid: Mapped[str] = mapped_column('AUTOID', String)
    fixed_cost: Mapped[bool] = mapped_column('FIXED_COST', Boolean)
    adj_inven: Mapped[str] = mapped_column('ADJ_INVEN', String)
    autoserial: Mapped[bool] = mapped_column('AUTOSERIAL', Boolean)
    weigh_it: Mapped[bool] = mapped_column('WEIGH_IT', Boolean)
    def_type: Mapped[str] = mapped_column('DEF_TYPE', String)
    ent_task: Mapped[bool] = mapped_column('ENT_TASK', Boolean)
    purc_meth: Mapped[DECIMAL] = mapped_column('PURC_METH', DECIMAL)
    pur_ssed: Mapped[bool] = mapped_column('PUR_SSED', Boolean)
    s_cust_i: Mapped[str] = mapped_column('S_CUST_I', String)
    d_width: Mapped[DECIMAL] = mapped_column('D_WIDTH', DECIMAL)
    d_height: Mapped[DECIMAL] = mapped_column('D_HEIGHT', DECIMAL)
    d_dem: Mapped[DECIMAL] = mapped_column('D_DEM', DECIMAL)
    width: Mapped[DECIMAL] = mapped_column('WIDTH', DECIMAL)
    width_r: Mapped[bool] = mapped_column('WIDTH_R', Boolean)
    height: Mapped[DECIMAL] = mapped_column('HEIGHT', DECIMAL)
    height_r: Mapped[bool] = mapped_column('HEIGHT_R', Boolean)
    dem: Mapped[DECIMAL] = mapped_column('DEM', DECIMAL)
    dem_r: Mapped[bool] = mapped_column('DEM_R', Boolean)
    waste_p: Mapped[DECIMAL] = mapped_column('WASTE_P', DECIMAL)
    item_num: Mapped[bool] = mapped_column('ITEM_NUM', Boolean)
    d_replace: Mapped[bool] = mapped_column('D_REPLACE', Boolean)
    trade_in: Mapped[bool] = mapped_column('TRADE_IN', Boolean)
    trade_acc: Mapped[str] = mapped_column('TRADE_ACC', String)
    su_autoid: Mapped[str] = mapped_column('SU_AUTOID', String)
    show_stock: Mapped[str] = mapped_column('SHOW_STOCK', String)
    ostk_msg: Mapped[str] = mapped_column('OSTK_MSG', String)
    hide_wwprc: Mapped[bool] = mapped_column('HIDE_WWPRC', Boolean)
    web_descr1: Mapped[str] = mapped_column('WEB_DESCR1', String)
    web_descr2: Mapped[str] = mapped_column('WEB_DESCR2', String)
    web_descr3: Mapped[str] = mapped_column('WEB_DESCR3', String)
    comp_tpl: Mapped[str] = mapped_column('COMP_TPL', String)
    comp_descr: Mapped[str] = mapped_column('COMP_DESCR', String)
    template: Mapped[str] = mapped_column('TEMPLATE', String)
    descr1copy: Mapped[bool] = mapped_column('DESCR1COPY', Boolean)
    descr2copy: Mapped[bool] = mapped_column('DESCR2COPY', Boolean)
    descr3copy: Mapped[bool] = mapped_column('DESCR3COPY', Boolean)
    seasonal: Mapped[str] = mapped_column('SEASONAL', String)
    show_web: Mapped[bool] = mapped_column('SHOW_WEB', Boolean)
    acc_label: Mapped[str] = mapped_column('ACC_LABEL', String)
    showserial: Mapped[bool] = mapped_column('SHOWSERIAL', Boolean)
    perc_adj_n: Mapped[DECIMAL] = mapped_column('PERC_ADJ_N', DECIMAL)
    rol_fnprod: Mapped[bool] = mapped_column('ROL_FNPROD', Boolean)
    rol_rwmtrl: Mapped[bool] = mapped_column('ROL_RWMTRL', Boolean)
    rol_gauge: Mapped[DECIMAL] = mapped_column('ROL_GAUGE', DECIMAL)
    rol_thick: Mapped[DECIMAL] = mapped_column('ROL_THICK', DECIMAL)
    rol_color: Mapped[str] = mapped_column('ROL_COLOR', String)
    rol_dense: Mapped[DECIMAL] = mapped_column('ROL_DENSE', DECIMAL)
    rol_width: Mapped[DECIMAL] = mapped_column('ROL_WIDTH', DECIMAL)
    rol_fnexdt: Mapped[Date] = mapped_column('ROL_FNEXDT', Date)
    rol_rwexdt: Mapped[Date] = mapped_column('ROL_RWEXDT', Date)
    lotselopt: Mapped[str] = mapped_column('LOTSELOPT', String)
    show_lots: Mapped[bool] = mapped_column('SHOW_LOTS', Boolean)
    inactive: Mapped[bool] = mapped_column('INACTIVE', Boolean)
    notqtysell: Mapped[bool] = mapped_column('NOTQTYSELL', Boolean)
    no_search: Mapped[bool] = mapped_column('NO_SEARCH', Boolean)
    rol_profil: Mapped[str] = mapped_column('ROL_PROFIL', String)
    value: Mapped[DECIMAL] = mapped_column('VALUE', DECIMAL)
    comp_flatv: Mapped[bool] = mapped_column('COMP_FLATV', Boolean)
    jobstg_id: Mapped[str] = mapped_column('JOBSTG_ID', String)
    cto_prompt: Mapped[DECIMAL] = mapped_column('CTO_PROMPT', DECIMAL)
    tree_path: Mapped[str] = mapped_column('TREE_PATH', String)
    int_note: Mapped[str] = mapped_column('INT_NOTE', String)
    upc2: Mapped[str] = mapped_column('UPC2', String)
    upc3: Mapped[str] = mapped_column('UPC3', String)
    def_to_ser: Mapped[bool] = mapped_column('DEF_TO_SER', Boolean)
    def_to_pri: Mapped[bool] = mapped_column('DEF_TO_PRI', Boolean)
    usetaxelig: Mapped[bool] = mapped_column('USETAXELIG', Boolean)
    usetax_acc: Mapped[str] = mapped_column('USETAX_ACC', String)
    externalid: Mapped[str] = mapped_column('EXTERNALID', String)
    jc_offset: Mapped[bool] = mapped_column('JC_OFFSET', Boolean)
    isshortcut: Mapped[bool] = mapped_column('ISSHORTCUT', Boolean)
    av_in_off: Mapped[DECIMAL] = mapped_column('AV_IN_OFF', DECIMAL)
    av_out_off: Mapped[DECIMAL] = mapped_column('AV_OUT_OFF', DECIMAL)
    oh_in_off: Mapped[DECIMAL] = mapped_column('OH_IN_OFF', DECIMAL)
    oh_out_off: Mapped[DECIMAL] = mapped_column('OH_OUT_OFF', DECIMAL)
    no_in_off: Mapped[DECIMAL] = mapped_column('NO_IN_OFF', DECIMAL)
    no_out_off: Mapped[DECIMAL] = mapped_column('NO_OUT_OFF', DECIMAL)
    prod_type: Mapped[str] = mapped_column("PROD_TYPE", String, ForeignKey('INPRODTYPE.PROD_TYPE'))
    arinvdet = relationship("Arinvdet", back_populates="rel_inventry", uselist=False)
    inprodtype = relationship("Inprodtype", back_populates="inventries", primaryjoin='Inventry.prod_type == Inprodtype.prod_type')

